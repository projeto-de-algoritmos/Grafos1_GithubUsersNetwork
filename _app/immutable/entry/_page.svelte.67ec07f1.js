var zt=Object.defineProperty;var Ot=(a,t,e)=>t in a?zt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var T=(a,t,e)=>(Ot(a,typeof t!="symbol"?t+"":t,e),e);import{S as Et,i as yt,s as kt,k as _,a as I,l as v,m as g,c as S,h as u,n as b,J as Rt,b as D,G as h,K as et,L as tt,M as re,H as Re,N as Vt,O as At,P as jt,e as pe,Q as Ae,q as E,r as y,u as Q,w as lt,R as st,y as nt,T as Ut,z as at,A as rt,U as it,g as ot,d as ct,B as ht,o as Gt,V as Ht}from"../chunks/index.805a3095.js";function ut(a,t,e){const l=a.slice();return l[0]=t[e],l}function ft(a,t,e){const l=a.slice();return l[0]=t[e],l}function Lt(a){let t,e=a[2],l=[];for(let s=0;s<e.length;s+=1)l[s]=dt(ut(a,e,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=pe()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);t=pe()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);D(s,t,r)},p(s,r){if(r&4){e=s[2];let n;for(n=0;n<e.length;n+=1){const i=ut(s,e,n);l[n]?l[n].p(i,r):(l[n]=dt(i),l[n].c(),l[n].m(t.parentNode,t))}for(;n<l.length;n+=1)l[n].d(1);l.length=e.length}},d(s){Ae(l,s),s&&u(t)}}}function Mt(a){let t,e=a[1],l=[];for(let s=0;s<e.length;s+=1)l[s]=_t(ft(a,e,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=pe()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);t=pe()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);D(s,t,r)},p(s,r){if(r&2){e=s[1];let n;for(n=0;n<e.length;n+=1){const i=ft(s,e,n);l[n]?l[n].p(i,r):(l[n]=_t(i),l[n].c(),l[n].m(t.parentNode,t))}for(;n<l.length;n+=1)l[n].d(1);l.length=e.length}},d(s){Ae(l,s),s&&u(t)}}}function dt(a){let t,e=a[0]+"",l,s;return{c(){t=_("option"),l=E(e),this.h()},l(r){t=v(r,"OPTION",{});var n=g(t);l=y(n,e),n.forEach(u),this.h()},h(){t.__value=s=a[0],t.value=t.__value},m(r,n){D(r,t,n),h(t,l)},p(r,n){n&4&&e!==(e=r[0]+"")&&Q(l,e),n&4&&s!==(s=r[0])&&(t.__value=s,t.value=t.__value)},d(r){r&&u(t)}}}function _t(a){let t,e=a[0]+"",l,s;return{c(){t=_("option"),l=E(e),this.h()},l(r){t=v(r,"OPTION",{});var n=g(t);l=y(n,e),n.forEach(u),this.h()},h(){t.__value=s=a[0],t.value=t.__value},m(r,n){D(r,t,n),h(t,l)},p(r,n){n&2&&e!==(e=r[0]+"")&&Q(l,e),n&2&&s!==(s=r[0])&&(t.__value=s,t.value=t.__value)},d(r){r&&u(t)}}}function qt(a){let t,e,l,s,r,n;function i(f,p){return f[3].length===0?Mt:Lt}let o=i(a),c=o(a);return{c(){t=_("div"),e=_("input"),l=I(),s=_("select"),c.c(),this.h()},l(f){t=v(f,"DIV",{class:!0});var p=g(t);e=v(p,"INPUT",{placeholder:!0,type:!0,class:!0}),l=S(p),s=v(p,"SELECT",{class:!0});var m=g(s);c.l(m),m.forEach(u),p.forEach(u),this.h()},h(){b(e,"placeholder","Username do GitHub"),b(e,"type","text"),b(e,"class","svelte-1wazvev"),b(s,"class","svelte-1wazvev"),a[0]===void 0&&Rt(()=>a[7].call(s)),b(t,"class","svelte-1wazvev")},m(f,p){D(f,t,p),h(t,e),et(e,a[3]),h(t,l),h(t,s),c.m(s,null),tt(s,a[0],!0),r||(n=[re(e,"keyup",a[5]),re(e,"input",a[6]),re(s,"change",a[7]),re(s,"change",a[4])],r=!0)},p(f,[p]){p&8&&e.value!==f[3]&&et(e,f[3]),o===(o=i(f))&&c?c.p(f,p):(c.d(1),c=o(f),c&&(c.c(),c.m(s,null))),p&7&&tt(s,f[0])},i:Re,o:Re,d(f){f&&u(t),c.d(),r=!1,Vt(n)}}}function Bt(a,t,e){const l=At(),s=()=>l("change");let{value:r=""}=t,{values:n=[]}=t,i=[],o="";const c=m=>{console.log("filtering..."),e(2,i=[]);for(let k=0;k<n.length;k++)n[k].toLowerCase().indexOf(m.currentTarget.value.toLowerCase())>=0&&i.push(n[k]);console.log("filtering... done")};function f(){o=this.value,e(3,o)}function p(){r=jt(this),e(0,r),e(1,n),e(2,i)}return a.$$set=m=>{"value"in m&&e(0,r=m.value),"values"in m&&e(1,n=m.values)},[r,n,i,o,s,c,f,p]}class vt extends Et{constructor(t){super(),yt(this,t,Bt,qt,kt,{value:0,values:1})}}class je{constructor(){T(this,"id",0);T(this,"next",null)}static create(t,e){const l=new je;return l.id=t,l.next=e,l}}class ce{constructor(t){T(this,"adj",[]);T(this,"edges",0);T(this,"vertices",0);T(this,"coords",[]);T(this,"selected",[]);if(t<=0)throw new Error("Invalid number of vertices");this.adj=new Array(t).fill(null),this.selected=new Array(t).fill(!1),this.vertices=t,this.coords=new Array(t);for(let e=0;e<this.coords.length;e++)this.coords[e]={x:0,y:0}}validateVertex(t){if(t<0||t>this.vertices)throw new Error("Invalid vertex "+t)}addEdge(t,e){this.validateVertex(t),this.validateVertex(e),this.edges++,this.adj[t]=je.create(e,this.adj[t])}hasEdge(t,e){this.validateVertex(t),this.validateVertex(e);let l=this.adj[t];for(;l;){if(l.id===e)return!0;l=l.next}return!1}reversed(){const t=new ce(this.vertices);let e;for(let l=0;l<this.vertices;l++)for(e=this.adj[l];e;)t.addEdge(e.id,l),e=e.next;return t}toString(){let t="",e=null;for(let l=0;l<this.adj.length;l++){for(t+=`${l}:`,e=this.adj[l];e!=null;)t+=` ${e.id}`,e=e.next;t+=`
`}return t}static fromString(t){const e=t.split(`
`),[l,s]=e.splice(0,2),r=new ce(Number(l));let n=0;for(;n<e.length;n++){const[i,o]=e[n].split(/\s+/);r.addEdge(Number(i),Number(o))}if(n!==Number(s))throw new Error(`${n} === ${s} The given string is problably bad formatted`);return r}}const gt=-1;class Wt{constructor(t,e=0){T(this,"visited");T(this,"bfsTree");T(this,"path");T(this,"source");this.graph=t,this.path=new Array(t.vertices).fill(gt),this.visited=new Array(t.vertices).fill(!1),this.bfsTree=new ce(t.vertices),this.bfs(e),this.source=e}bfs(t){const e=[t];for(;e.length!==0;){const l=e.shift();let s=this.graph.adj[l];for(;s;)this.visited[s.id]||(this.visited[s.id]=!0,this.bfsTree.addEdge(l,s.id),this.path[s.id]=l,e.push(s.id)),s=s.next}}pathTo(t){const e=[];let l=t;for(;l!==this.source;)if(e.push(l),l=this.path[l],l===gt)return[];return e.push(this.source),e.reverse()}}class Ft{constructor(t,e){T(this,"table");T(this,"keys");T(this,"g");this.table=new Map,this.keys=[];for(let r=0;r<t.length;r++)this.keys.push(t[r]),this.table.has(t[r])||this.table.set(t[r],r);let l,s;this.g=new ce(t.length);for(let r=0;r<e.length;r++){const n=e[r].login;if(l=this.table.get(n),l===void 0)throw new Error("v is not defined in table for login: "+n);for(let i=0;i<e[r].followers.length;i++)s=this.table.get(e[r].followers[i]),s!==void 0&&this.g.addEdge(s,l)}}contains(t){return this.table.has(t)}id(t){const e=this.table.get(t);return e===void 0?-1:e}name(t){return this.keys[t]}graph(){return this.g}}function Jt({g:a,xMax:t,yMax:e,yOffset:l=0,xOffset:s=0}){for(let r=0;r<a.coords.length;r++)a.coords[r].x=Math.random()*t+s,a.coords[r].y=Math.random()*e+l}const Kt="8px",Qt="#fff",Xt="#646cff",Ue="#242424",Tt="#E3C240",It=10,Yt=It*1.2,Zt="#2e2e2e",Ve=1,xt="#646cff25",$t=Tt,el=30,pt=1e3/el;let ze=0,ie=0,St=-1,K,Nt,Ge,oe;function Oe(a,t,e){K=a,Ge=t,Nt=e}function tl(){ie=window.performance.now(),oe=Ge.getContext("2d"),Ct()}function ll(){cancelAnimationFrame(St)}function Ct(){St=requestAnimationFrame(Ct),ie=window.performance.now();const a=ie-ze;ze=ie,a>pt&&(ze=ie-a%pt,sl(oe,Ge),al(oe,K.adj,K.coords,xt,Ve),rl(oe,K.coords,Nt,$t,Ve*1.2),nl(oe,K.adj,K.coords,K.selected))}function sl(a,t,e=Zt){const l=Number(t.getAttribute("width")),s=Number(t.getAttribute("height"));a.fillStyle=e,a.fillRect(0,0,l,s)}function nl(a,t,e,l){a.font=Kt+" Helvetica",a.lineWidth=Ve;const s=4,r=6;let n=!1;for(let i=0;i<t.length;i++)n=l[i],a.fillStyle=Ue,a.strokeStyle=n?Tt:Xt,a.beginPath(),a.arc(e[i].x,e[i].y,n?Yt:It,0,2*Math.PI),a.fill(),a.stroke(),a.fillStyle=Qt,a.fillText(String(i),e[i].x-r,e[i].y+s)}function al(a,t,e,l,s){let r=null,n=null;a.lineWidth=s,a.fillStyle=Ue,a.strokeStyle=l;for(let i=0;i<t.length;i++)for(r=t[i],n=r;n!=null;)a.beginPath(),a.moveTo(e[i].x,e[i].y),a.lineTo(e[n.id].x,e[n.id].y),a.stroke(),n=n.next}function rl(a,t,e,l,s){a.lineWidth=s,a.fillStyle=Ue,a.strokeStyle=l;let r=-1,n;for(let i=1;i<e.length;++i)n=e[i-1],r=e[i],a.beginPath(),a.moveTo(t[n].x,t[n].y),a.lineTo(t[r].x,t[r].y),a.stroke()}const{document:mt}=Ht;function bt(a,t,e){const l=a.slice();return l[18]=t[e],l}function il(a){let t,e,l,s,r=a[6],n=[];for(let i=0;i<r.length;i+=1)n[i]=wt(bt(a,r,i));return{c(){t=_("p"),e=E("Caminhos de seguidores:"),l=I(),s=_("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=v(i,"P",{});var o=g(t);e=y(o,"Caminhos de seguidores:"),o.forEach(u),l=S(i),s=v(i,"UL",{class:!0});var c=g(s);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(u),this.h()},h(){b(s,"class","svelte-17zxabm")},m(i,o){D(i,t,o),h(t,e),D(i,l,o),D(i,s,o);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(s,null)},p(i,o){if(o&64){r=i[6];let c;for(c=0;c<r.length;c+=1){const f=bt(i,r,c);n[c]?n[c].p(f,o):(n[c]=wt(f),n[c].c(),n[c].m(s,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=r.length}},d(i){i&&u(t),i&&u(l),i&&u(s),Ae(n,i)}}}function ol(a){let t,e;return{c(){t=_("p"),e=E("Não há caminho")},l(l){t=v(l,"P",{});var s=g(t);e=y(s,"Não há caminho"),s.forEach(u)},m(l,s){D(l,t,s),h(t,e)},p:Re,d(l){l&&u(t)}}}function wt(a){let t,e,l=a[18]+"",s;return{c(){t=_("li"),e=_("code"),s=E(l),this.h()},l(r){t=v(r,"LI",{class:!0});var n=g(t);e=v(n,"CODE",{});var i=g(e);s=y(i,l),i.forEach(u),n.forEach(u),this.h()},h(){b(t,"class","svelte-17zxabm")},m(r,n){D(r,t,n),h(t,e),h(e,s)},p(r,n){n&64&&l!==(l=r[18]+"")&&Q(s,l)},d(r){r&&u(t)}}}function cl(a){let t,e,l,s,r,n,i,o,c,f,p,m,k,O,H,Z,x,L,M=(a[1].length>0?a[1]:G)+"",X,w,$,ee=(a[3]===-1?G:"ID: "+a[3])+"",he,me,N,R,be,we,q,Ee,te,ye,ke,Te,le,se=(a[2].length>0?a[2]:G)+"",ue,Ie,ne,ae=(a[4]===-1?G:"ID: "+a[4])+"",fe,Se,V,Ne,Ce,B,De,Y,W,F,A,Pe,He;function Dt(d){a[12](d)}let Le={values:a[7]};a[1]!==void 0&&(Le.value=a[1]),c=new vt({props:Le}),lt.push(()=>st(c,"value",Dt)),c.$on("change",a[13]);function Pt(d){a[14](d)}let Me={values:a[7]};a[2]!==void 0&&(Me.value=a[2]),R=new vt({props:Me}),lt.push(()=>st(R,"value",Pt)),R.$on("change",a[15]);function qe(d,C){return d[5].length===0?ol:il}let de=qe(a),P=de(a);return{c(){t=I(),e=_("main"),l=_("div"),s=_("h2"),r=E("Rede (de alguns) Usuários do GitHub"),n=I(),i=_("div"),o=_("div"),nt(c.$$.fragment),p=I(),m=_("p"),k=E("Usuário de "),O=_("strong"),H=E("origem"),Z=E(" selecionado:"),x=I(),L=_("p"),X=E(M),w=I(),$=_("p"),he=E(ee),me=I(),N=_("div"),nt(R.$$.fragment),we=I(),q=_("p"),Ee=E("Usuário de "),te=_("strong"),ye=E("destino"),ke=E(" selecionado:"),Te=I(),le=_("p"),ue=E(se),Ie=I(),ne=_("p"),fe=E(ae),Se=I(),V=_("button"),Ne=E("Resetar"),Ce=I(),B=_("div"),P.c(),De=I(),Y=_("div"),W=_("div"),F=_("canvas"),this.h()},l(d){Ut("svelte-gzwwwj",mt.head).forEach(u),t=S(d),e=v(d,"MAIN",{class:!0});var J=g(e);l=v(J,"DIV",{class:!0});var z=g(l);s=v(z,"H2",{class:!0});var Be=g(s);r=y(Be,"Rede (de alguns) Usuários do GitHub"),Be.forEach(u),n=S(z),i=v(z,"DIV",{class:!0});var _e=g(i);o=v(_e,"DIV",{class:!0});var j=g(o);at(c.$$.fragment,j),p=S(j),m=v(j,"P",{});var ve=g(m);k=y(ve,"Usuário de "),O=v(ve,"STRONG",{});var We=g(O);H=y(We,"origem"),We.forEach(u),Z=y(ve," selecionado:"),ve.forEach(u),x=S(j),L=v(j,"P",{});var Fe=g(L);X=y(Fe,M),Fe.forEach(u),w=S(j),$=v(j,"P",{});var Je=g($);he=y(Je,ee),Je.forEach(u),j.forEach(u),me=S(_e),N=v(_e,"DIV",{class:!0});var U=g(N);at(R.$$.fragment,U),we=S(U),q=v(U,"P",{});var ge=g(q);Ee=y(ge,"Usuário de "),te=v(ge,"STRONG",{});var Ke=g(te);ye=y(Ke,"destino"),Ke.forEach(u),ke=y(ge," selecionado:"),ge.forEach(u),Te=S(U),le=v(U,"P",{});var Qe=g(le);ue=y(Qe,se),Qe.forEach(u),Ie=S(U),ne=v(U,"P",{});var Xe=g(ne);fe=y(Xe,ae),Xe.forEach(u),U.forEach(u),_e.forEach(u),Se=S(z),V=v(z,"BUTTON",{id:!0,class:!0});var Ye=g(V);Ne=y(Ye,"Resetar"),Ye.forEach(u),Ce=S(z),B=v(z,"DIV",{class:!0});var Ze=g(B);P.l(Ze),Ze.forEach(u),z.forEach(u),De=S(J),Y=v(J,"DIV",{class:!0});var xe=g(Y);W=v(xe,"DIV",{id:!0,class:!0});var $e=g(W);F=v($e,"CANVAS",{width:!0,height:!0,class:!0}),g(F).forEach(u),$e.forEach(u),xe.forEach(u),J.forEach(u),this.h()},h(){mt.title="Rede de Usuários GitHub",b(s,"class","svelte-17zxabm"),b(o,"class","svelte-17zxabm"),b(N,"class","svelte-17zxabm"),b(i,"class","inputs svelte-17zxabm"),b(V,"id","reset"),b(V,"class","svelte-17zxabm"),b(B,"class","graph-path svelte-17zxabm"),b(l,"class","left svelte-17zxabm"),b(F,"width",hl),b(F,"height",ul),b(F,"class","svelte-17zxabm"),b(W,"id","canvas-container"),b(W,"class","svelte-17zxabm"),b(Y,"class","right svelte-17zxabm"),b(e,"class","svelte-17zxabm")},m(d,C){D(d,t,C),D(d,e,C),h(e,l),h(l,s),h(s,r),h(l,n),h(l,i),h(i,o),rt(c,o,null),h(o,p),h(o,m),h(m,k),h(m,O),h(O,H),h(m,Z),h(o,x),h(o,L),h(L,X),h(o,w),h(o,$),h($,he),h(i,me),h(i,N),rt(R,N,null),h(N,we),h(N,q),h(q,Ee),h(q,te),h(te,ye),h(q,ke),h(N,Te),h(N,le),h(le,ue),h(N,Ie),h(N,ne),h(ne,fe),h(l,Se),h(l,V),h(V,Ne),h(l,Ce),h(l,B),P.m(B,null),h(e,De),h(e,Y),h(Y,W),h(W,F),A=!0,Pe||(He=re(V,"click",a[10]),Pe=!0)},p(d,[C]){const J={};!f&&C&2&&(f=!0,J.value=d[1],it(()=>f=!1)),c.$set(J),(!A||C&2)&&M!==(M=(d[1].length>0?d[1]:G)+"")&&Q(X,M),(!A||C&8)&&ee!==(ee=(d[3]===-1?G:"ID: "+d[3])+"")&&Q(he,ee);const z={};!be&&C&4&&(be=!0,z.value=d[2],it(()=>be=!1)),R.$set(z),(!A||C&4)&&se!==(se=(d[2].length>0?d[2]:G)+"")&&Q(ue,se),(!A||C&16)&&ae!==(ae=(d[4]===-1?G:"ID: "+d[4])+"")&&Q(fe,ae),de===(de=qe(d))&&P?P.p(d,C):(P.d(1),P=de(d),P&&(P.c(),P.m(B,null)))},i(d){A||(ot(c.$$.fragment,d),ot(R.$$.fragment,d),A=!0)},o(d){ct(c.$$.fragment,d),ct(R.$$.fragment,d),A=!1},d(d){d&&u(t),d&&u(e),ht(c),ht(R),P.d(),Pe=!1,He()}}}let hl=400,ul=400;const G="(não selecionado)";function fl(a,t,e){let{data:l}=t,s,r=null;const n=l.users.map(w=>w.login),i=new Ft(n,l.connections),o=i.graph();let c="",f="",p=-1,m=-1,k=[],O=[];function H(){if(!(c===""||f==="")){r=new Wt(o,p),e(6,O=[]),e(5,k=r.pathTo(m));for(const w of k)O.push(i.name(w));Oe(o,s,k)}}function Z(){console.log("Resetando valores"),e(0,o.selected[p]=!1,o),e(0,o.selected[m]=!1,o),e(1,c=""),e(2,f=""),e(3,p=-1),e(4,m=-1),e(5,k=[]),e(6,O=[]),r=null,Oe(o,s,k)}Gt(()=>{s=document.querySelector("canvas");const w=document.querySelector("#canvas-container");return s.width=w.clientWidth*.88,s.height=w.clientHeight,Jt({g:o,xMax:s.width-30,yMax:s.height-30,xOffset:15,yOffset:15}),Oe(o,s,k),tl(),()=>ll()});function x(w){c=w,e(1,c)}const L=()=>{e(0,o.selected[p]=!1,o),e(3,p=i.id(c)),e(0,o.selected[p]=!0,o),H()};function M(w){f=w,e(2,f)}const X=()=>{e(0,o.selected[m]=!1,o),e(4,m=i.id(f)),e(0,o.selected[m]=!0,o),H()};return a.$$set=w=>{"data"in w&&e(11,l=w.data)},[o,c,f,p,m,k,O,n,i,H,Z,l,x,L,M,X]}class vl extends Et{constructor(t){super(),yt(this,t,fl,cl,kt,{data:11})}}export{vl as default};
